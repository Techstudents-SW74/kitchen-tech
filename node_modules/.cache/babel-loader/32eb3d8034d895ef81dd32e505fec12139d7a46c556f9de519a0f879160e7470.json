{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nconst API_URL = 'http://localhost:3000/restaurants';\nexport const productsService = {\n  async getProductsByRestaurant(restaurantName) {\n    try {\n      const response = await axios.get(API_URL);\n      const restaurant = response.data.find(restaurant => restaurant['business-name'] === restaurantName);\n      if (restaurant) {\n        return restaurant.products;\n      } else {\n        throw new Error('Restaurant not found');\n      }\n    } catch (error) {\n      console.error(\"Error fetching products: \", error);\n      throw error;\n    }\n  },\n  async addProduct(restaurantName, product) {\n    try {\n      const response = await axios.get(API_URL);\n      const restaurant = response.data.find(r => r['business-name'] === restaurantName);\n      if (restaurant) {\n        const newId = restaurant.products.length() ? restaurant.products[restaurant.products.length - 1] : 1;\n        restaurant.products.push(product);\n        await axios.put(`${API_URL}/${restaurant.id}`, restaurant);\n      }\n    } catch (error) {\n      console.error(\"Error adding product: \", error);\n    }\n  },\n  async updateProduct(restaurantName, product) {\n    try {\n      const response = await axios.get(API_URL);\n      const restaurant = response.data.find(r => r['business-name'] === restaurantName);\n      if (restaurant) {\n        const productIndex = restaurant.products.findIndex(p => p.id === product.id);\n        if (productIndex !== -1) {\n          restaurant.products[productIndex] = product;\n          await axios.put(`${API_URL}/${restaurant.id}`, restaurant);\n        }\n      }\n    } catch (error) {\n      console.error(\"Error updating product: \", error);\n    }\n  }\n};","map":{"version":3,"names":["axios","API_URL","productsService","getProductsByRestaurant","restaurantName","response","get","restaurant","data","find","products","Error","error","console","addProduct","product","r","newId","length","push","put","id","updateProduct","productIndex","findIndex","p"],"sources":["E:/kitchen-tech-repo/src/public/services/productsService.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_URL = 'http://localhost:3000/restaurants';\r\n\r\nexport const productsService = {\r\n    async getProductsByRestaurant(restaurantName) {\r\n        try {\r\n            const response = await axios.get(API_URL);\r\n            const restaurant = response.data.find(restaurant => restaurant['business-name'] === restaurantName);\r\n            if (restaurant) {\r\n                return restaurant.products;\r\n            } else {\r\n                throw new Error('Restaurant not found');\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching products: \", error);\r\n            throw error;\r\n        }\r\n    },\r\n\r\n    async addProduct(restaurantName, product) {\r\n        try {\r\n            const response = await axios.get(API_URL);\r\n            const restaurant = response.data.find(r => r['business-name'] === restaurantName);\r\n\r\n            if (restaurant) {\r\n                const newId = restaurant.products.length() ? restaurant.products[restaurant.products.length - 1] : 1;\r\n                restaurant.products.push(product);\r\n                await axios.put(`${API_URL}/${restaurant.id}`, restaurant);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error adding product: \", error);\r\n        }\r\n    },\r\n\r\n    async updateProduct(restaurantName, product) {\r\n        try {\r\n            const response = await axios.get(API_URL);\r\n            const restaurant = response.data.find(r => r['business-name'] === restaurantName);\r\n\r\n            if (restaurant) {\r\n                const productIndex = restaurant.products.findIndex(p => p.id === product.id);\r\n\r\n                if(productIndex !== -1) {\r\n                    restaurant.products[productIndex] = product;\r\n                    await axios.put(`${API_URL}/${restaurant.id}`, restaurant);\r\n                }\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error updating product: \", error);\r\n        }\r\n    }\r\n};"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,mCAAmC;AAEnD,OAAO,MAAMC,eAAe,GAAG;EAC3B,MAAMC,uBAAuBA,CAACC,cAAc,EAAE;IAC1C,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAG,CAACL,OAAO,CAAC;MACzC,MAAMM,UAAU,GAAGF,QAAQ,CAACG,IAAI,CAACC,IAAI,CAACF,UAAU,IAAIA,UAAU,CAAC,eAAe,CAAC,KAAKH,cAAc,CAAC;MACnG,IAAIG,UAAU,EAAE;QACZ,OAAOA,UAAU,CAACG,QAAQ;MAC9B,CAAC,MAAM;QACH,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;MAC3C;IACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACjD,MAAMA,KAAK;IACf;EACJ,CAAC;EAED,MAAME,UAAUA,CAACV,cAAc,EAAEW,OAAO,EAAE;IACtC,IAAI;MACA,MAAMV,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAG,CAACL,OAAO,CAAC;MACzC,MAAMM,UAAU,GAAGF,QAAQ,CAACG,IAAI,CAACC,IAAI,CAACO,CAAC,IAAIA,CAAC,CAAC,eAAe,CAAC,KAAKZ,cAAc,CAAC;MAEjF,IAAIG,UAAU,EAAE;QACZ,MAAMU,KAAK,GAAGV,UAAU,CAACG,QAAQ,CAACQ,MAAM,CAAC,CAAC,GAAGX,UAAU,CAACG,QAAQ,CAACH,UAAU,CAACG,QAAQ,CAACQ,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC;QACpGX,UAAU,CAACG,QAAQ,CAACS,IAAI,CAACJ,OAAO,CAAC;QACjC,MAAMf,KAAK,CAACoB,GAAG,CAAC,GAAGnB,OAAO,IAAIM,UAAU,CAACc,EAAE,EAAE,EAAEd,UAAU,CAAC;MAC9D;IACJ,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAClD;EACJ,CAAC;EAED,MAAMU,aAAaA,CAAClB,cAAc,EAAEW,OAAO,EAAE;IACzC,IAAI;MACA,MAAMV,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAG,CAACL,OAAO,CAAC;MACzC,MAAMM,UAAU,GAAGF,QAAQ,CAACG,IAAI,CAACC,IAAI,CAACO,CAAC,IAAIA,CAAC,CAAC,eAAe,CAAC,KAAKZ,cAAc,CAAC;MAEjF,IAAIG,UAAU,EAAE;QACZ,MAAMgB,YAAY,GAAGhB,UAAU,CAACG,QAAQ,CAACc,SAAS,CAACC,CAAC,IAAIA,CAAC,CAACJ,EAAE,KAAKN,OAAO,CAACM,EAAE,CAAC;QAE5E,IAAGE,YAAY,KAAK,CAAC,CAAC,EAAE;UACpBhB,UAAU,CAACG,QAAQ,CAACa,YAAY,CAAC,GAAGR,OAAO;UAC3C,MAAMf,KAAK,CAACoB,GAAG,CAAC,GAAGnB,OAAO,IAAIM,UAAU,CAACc,EAAE,EAAE,EAAEd,UAAU,CAAC;QAC9D;MACJ;IACJ,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IACpD;EACJ;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}