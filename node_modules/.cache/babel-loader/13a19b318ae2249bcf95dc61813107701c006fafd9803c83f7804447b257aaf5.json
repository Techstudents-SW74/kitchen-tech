{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect } from \"vue\";\nconst _hoisted_1 = {\n  class: \"layout\"\n};\nconst _hoisted_2 = {\n  class: \"main-content\"\n};\nconst _hoisted_3 = {\n  class: \"page-container\"\n};\nconst _hoisted_4 = {\n  class: \"supplies-page\"\n};\nconst _hoisted_5 = {\n  class: \"content-wrapper\"\n};\nconst _hoisted_6 = {\n  class: \"supplies-header\"\n};\nconst _hoisted_7 = {\n  class: \"supply-table-container\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  class: \"no-supplies\"\n};\nconst _hoisted_9 = {\n  key: 1,\n  class: \"supply-table\"\n};\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = [\"onClick\"];\nconst _hoisted_12 = {\n  key: 0,\n  class: \"supply-config-overlay\"\n};\nconst _hoisted_13 = {\n  class: \"supply-config-modal\"\n};\nconst _hoisted_14 = {\n  class: \"modal-title\"\n};\nconst _hoisted_15 = {\n  class: \"modal-content\"\n};\nconst _hoisted_16 = {\n  class: \"form-group\"\n};\nconst _hoisted_17 = {\n  class: \"form-group\"\n};\nconst _hoisted_18 = {\n  class: \"form-group\"\n};\nconst _hoisted_19 = [\"value\"];\nconst _hoisted_20 = {\n  class: \"form-group\"\n};\nconst _hoisted_21 = {\n  class: \"form-group\"\n};\nconst _hoisted_22 = {\n  class: \"form-group\"\n};\nconst _hoisted_23 = [\"value\"];\nconst _hoisted_24 = {\n  class: \"modal-actions\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_sidebar_component = _resolveComponent(\"sidebar-component\");\n  const _component_header_component = _resolveComponent(\"header-component\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_sidebar_component, {\n    \"restaurant-name\": $data.restaurantName,\n    role: $data.userRole,\n    class: \"sidebar\"\n  }, null, 8 /* PROPS */, [\"restaurant-name\", \"role\"]), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_header_component, {\n    \"restaurant-name\": $data.restaurantName,\n    role: $data.userRole,\n    class: \"header\"\n  }, null, 8 /* PROPS */, [\"restaurant-name\", \"role\"]), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"main\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n    class: \"search-bar\",\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.searchQuery = $event),\n    placeholder: \"Search supplies...\",\n    onInput: _cache[1] || (_cache[1] = (...args) => $options.filterSupplies && $options.filterSupplies(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $data.searchQuery]]), _createElementVNode(\"button\", {\n    class: \"add-button\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.openSupplyConfig && $options.openSupplyConfig(...args))\n  }, \"Add Supply\")]), _createElementVNode(\"div\", _hoisted_7, [$data.filteredSupplies.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, _cache[11] || (_cache[11] = [_createElementVNode(\"label\", null, \"No supplies available.\", -1 /* HOISTED */)]))) : (_openBlock(), _createElementBlock(\"table\", _hoisted_9, [_cache[12] || (_cache[12] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Supply Name\"), _createElementVNode(\"th\", null, \"Category\"), _createElementVNode(\"th\", null, \"Metric Unit\"), _createElementVNode(\"th\", null, \"Stock\"), _createElementVNode(\"th\", null, \"Cost per Unit\"), _createElementVNode(\"th\", null, \"Status\"), _createElementVNode(\"th\", null, \"Actions\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.filteredSupplies, supply => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: supply.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(supply.supplyName), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(supply.supplyCategory), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(supply.metricUnit), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(supply.currentlyOnStock), 1 /* TEXT */), _createElementVNode(\"td\", null, \"$\" + _toDisplayString(supply.costPerUnit.toFixed(2)), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(supply.stateOfSupply), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      class: \"edit-button\",\n      onClick: $event => $options.editSupply(supply)\n    }, \"Edit\", 8 /* PROPS */, _hoisted_10), _createElementVNode(\"button\", {\n      class: \"delete-button\",\n      onClick: $event => $options.deleteSupply(supply.id)\n    }, \"Delete\", 8 /* PROPS */, _hoisted_11)])]);\n  }), 128 /* KEYED_FRAGMENT */))])]))])])])])]), _createCommentVNode(\" Supply Config Overlay \"), $data.isSupplyConfigOpen ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"p\", _hoisted_14, _toDisplayString(_ctx.supplyToEdit ? 'Edit Supply' : 'Add Supply'), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_cache[13] || (_cache[13] = _createElementVNode(\"label\", {\n    for: \"supply-name\"\n  }, \"Supply Name\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.newSupplyName = $event),\n    id: \"supply-name\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.newSupplyName]])]), _createElementVNode(\"div\", _hoisted_17, [_cache[14] || (_cache[14] = _createElementVNode(\"label\", {\n    for: \"supply-category\"\n  }, \"Category\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => _ctx.newSupplyCategory = $event),\n    id: \"supply-category\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.newSupplyCategory]])]), _createElementVNode(\"div\", _hoisted_18, [_cache[15] || (_cache[15] = _createElementVNode(\"label\", {\n    for: \"metric-unit\"\n  }, \"Metric Unit\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    class: \"selector\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.newSupplyMetricUnit = $event),\n    id: \"metric-unit\"\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.MetricUnit, (unit, key) => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      class: \"option\",\n      key: key,\n      value: unit\n    }, _toDisplayString(unit), 9 /* TEXT, PROPS */, _hoisted_19);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.newSupplyMetricUnit]])]), _createElementVNode(\"div\", _hoisted_20, [_cache[16] || (_cache[16] = _createElementVNode(\"label\", {\n    for: \"stock\"\n  }, \"Stock\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => _ctx.newSupplyStock = $event),\n    id: \"stock\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.newSupplyStock]])]), _createElementVNode(\"div\", _hoisted_21, [_cache[17] || (_cache[17] = _createElementVNode(\"label\", {\n    for: \"cost\"\n  }, \"Cost per Unit\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => _ctx.newSupplyCostPerUnit = $event),\n    id: \"cost\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.newSupplyCostPerUnit]])]), _createElementVNode(\"div\", _hoisted_22, [_cache[18] || (_cache[18] = _createElementVNode(\"label\", {\n    for: \"state\"\n  }, \"State\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    class: \"selector\",\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.newSupplyState = $event),\n    id: \"state\"\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.SupplyState, (state, key) => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      class: \"option\",\n      key: key,\n      value: state\n    }, _toDisplayString(state), 9 /* TEXT, PROPS */, _hoisted_23);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.newSupplyState]])]), _createElementVNode(\"div\", _hoisted_24, [_createElementVNode(\"button\", {\n    class: \"button\",\n    onClick: _cache[9] || (_cache[9] = (...args) => $options.closeSupplyConfig && $options.closeSupplyConfig(...args))\n  }, \"Close\"), _createElementVNode(\"button\", {\n    class: \"button\",\n    onClick: _cache[10] || (_cache[10] = (...args) => $options.addSupply && $options.addSupply(...args))\n  }, _toDisplayString(_ctx.supplyToEdit ? 'Update' : 'Save'), 1 /* TEXT */)])])])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createVNode","_component_sidebar_component","$data","restaurantName","role","userRole","_createElementVNode","_hoisted_2","_component_header_component","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","type","_cache","$event","searchQuery","placeholder","onInput","args","$options","filterSupplies","onClick","openSupplyConfig","_hoisted_7","filteredSupplies","length","_hoisted_8","_hoisted_9","_Fragment","_renderList","supply","id","_toDisplayString","supplyName","supplyCategory","metricUnit","currentlyOnStock","costPerUnit","toFixed","stateOfSupply","editSupply","_hoisted_10","deleteSupply","_hoisted_11","_createCommentVNode","isSupplyConfigOpen","_hoisted_12","_hoisted_13","_hoisted_14","_ctx","supplyToEdit","_hoisted_15","_hoisted_16","for","newSupplyName","_hoisted_17","newSupplyCategory","_hoisted_18","newSupplyMetricUnit","MetricUnit","unit","value","_hoisted_19","_hoisted_20","newSupplyStock","_hoisted_21","newSupplyCostPerUnit","_hoisted_22","newSupplyState","SupplyState","state","_hoisted_23","_hoisted_24","closeSupplyConfig","addSupply"],"sources":["E:\\Kitchen Tech\\src\\admins\\views\\inventory-page.vue"],"sourcesContent":["<template>\r\n  <div class=\"layout\">\r\n    <sidebar-component :restaurant-name=\"restaurantName\" :role=\"userRole\" class=\"sidebar\" />\r\n    <div class=\"main-content\">\r\n      <header-component :restaurant-name=\"restaurantName\" :role=\"userRole\" class=\"header\" />\r\n      <div class=\"page-container\">\r\n        <main class=\"supplies-page\">\r\n          <div class=\"content-wrapper\">\r\n            <div class=\"supplies-header\">\r\n              <input\r\n                class=\"search-bar\"\r\n                type=\"text\"\r\n                v-model=\"searchQuery\"\r\n                placeholder=\"Search supplies...\"\r\n                @input=\"filterSupplies\"\r\n              />\r\n              <button class=\"add-button\" @click=\"openSupplyConfig\">Add Supply</button>\r\n            </div>\r\n            <div class=\"supply-table-container\">\r\n              <template v-if=\"filteredSupplies.length === 0\">\r\n                <div class=\"no-supplies\">\r\n                  <label>No supplies available.</label>\r\n                </div>\r\n              </template>\r\n              <template v-else>\r\n                <table class=\"supply-table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Supply Name</th>\r\n                      <th>Category</th>\r\n                      <th>Metric Unit</th>\r\n                      <th>Stock</th>\r\n                      <th>Cost per Unit</th>\r\n                      <th>Status</th>\r\n                      <th>Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"supply in filteredSupplies\" :key=\"supply.id\">\r\n                      <td>{{ supply.supplyName }}</td>\r\n                      <td>{{ supply.supplyCategory }}</td>\r\n                      <td>{{ supply.metricUnit }}</td>\r\n                      <td>{{ supply.currentlyOnStock }}</td>\r\n                      <td>${{ supply.costPerUnit.toFixed(2) }}</td>\r\n                      <td>{{ supply.stateOfSupply }}</td>\r\n                      <td>\r\n                        <button class=\"edit-button\" @click=\"editSupply(supply)\">Edit</button>\r\n                        <button class=\"delete-button\" @click=\"deleteSupply(supply.id)\">Delete</button>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </template>\r\n            </div>\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Supply Config Overlay -->\r\n    <div v-if=\"isSupplyConfigOpen\" class=\"supply-config-overlay\">\r\n      <div class=\"supply-config-modal\">\r\n        <p class=\"modal-title\">{{ supplyToEdit ? 'Edit Supply' : 'Add Supply'}}</p>\r\n        <div class=\"modal-content\">\r\n          <div class=\"form-group\">\r\n            <label for=\"supply-name\">Supply Name</label>\r\n            <input type=\"text\" v-model=\"newSupplyName\" id=\"supply-name\" />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"supply-category\">Category</label>\r\n            <input type=\"text\" v-model=\"newSupplyCategory\" id=\"supply-category\" />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"metric-unit\">Metric Unit</label>\r\n            <select class=\"selector\" v-model=\"newSupplyMetricUnit\" id=\"metric-unit\">\r\n              <option class=\"option\" v-for=\"(unit, key) in MetricUnit\" :key=\"key\" :value=\"unit\">\r\n                {{ unit }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"stock\">Stock</label>\r\n            <input type=\"number\" v-model=\"newSupplyStock\" id=\"stock\" />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"cost\">Cost per Unit</label>\r\n            <input type=\"number\" v-model=\"newSupplyCostPerUnit\" id=\"cost\" />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"state\">State</label>\r\n            <select class=\"selector\" v-model=\"newSupplyState\" id=\"state\">\r\n              <option class=\"option\" v-for=\"(state, key) in SupplyState\" :key=\"key\" :value=\"state\">\r\n                {{ state }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class=\"modal-actions\">\r\n            <button class=\"button\" @click=\"closeSupplyConfig\">Close</button>\r\n            <button class=\"button\" @click=\"addSupply\">{{ supplyToEdit ? 'Update' : 'Save' }}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport HeaderComponent from \"@/admins/components/header-component.vue\";\r\nimport SidebarComponent from \"@/admins/components/sidebar-component.vue\";\r\nimport { supplyService } from \"@/public/services/supplyService\"; // Cambia según tu servicio\r\n\r\nexport default {\r\n  components: {\r\n    HeaderComponent,\r\n    SidebarComponent,\r\n  },\r\n  data() {\r\n    return {\r\n      restaurantName: '',\r\n      userRole: '',\r\n      supplies: [],\r\n      searchQuery: '',\r\n      filteredSupplies: [],\r\n      isSupplyConfigOpen: false,  // Control for overlay visibility\r\n      newSupplyMetricUnit: '', // Selección del usuario\r\n      newSupplyState: '', // Selección del usuario\r\n      \r\n\r\n      // Enums\r\n      MetricUnit: {\r\n        Kg: 'Kg',\r\n        G: 'g',\r\n        L: 'L',\r\n        Ml: 'ml',\r\n        Unit: 'u',\r\n      },\r\n      SupplyState: {\r\n        OnStock: 'OnStock',\r\n        OffStock: 'OffStock',\r\n      },\r\n    };\r\n  },\r\n  beforeMount() {\r\n    this.fetchUserData();\r\n\r\n    const userData = JSON.parse(localStorage.getItem('userData'));\r\n    if (userData) {\r\n      this.restaurantName = userData['business-name']; // Si no tienes 'business-name' puedes colocar un valor predeterminado.\r\n      this.userRole = userData.role;\r\n      this.restaurantId = userData.restaurantId;  // Asegúrate de que restaurantId está aquí.\r\n      //console.log('Restaurant ID:', this.restaurantId);\r\n    }\r\n    this.loadSupplies();\r\n  },\r\n  methods: {\r\n    async fetchUserData() {\r\n      try {\r\n        const userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n        const restaurantId = userData?.restaurantId;\r\n\r\n        if (restaurantId) {\r\n          this.restaurantName = \"Mock Restaurant\"; // Cambia según tu lógica\r\n          this.userRole = userData.role;\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching restaurant data: \", error);\r\n      }\r\n    },\r\n\r\n    async loadSupplies() {\r\n      const userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n      const restaurantId = userData.restaurantId;\r\n\r\n      try {\r\n        const supplies = await supplyService.getSuppliesByRestaurant(restaurantId);\r\n        this.supplies = Array.isArray(supplies) ? supplies : [];\r\n        this.filteredSupplies = this.supplies;\r\n      } catch (error) {\r\n        console.error(\"Failed to load supplies\", error);\r\n      }\r\n      this.filteredSupplies = this.supplies;\r\n    },\r\n\r\n    filterSupplies() {\r\n      const query = this.searchQuery.toLowerCase();\r\n      this.filteredSupplies = this.supplies.filter((supply) =>\r\n        supply.supplyName.toLowerCase().includes(query)\r\n      );\r\n    },\r\n\r\n    async addSupply() {\r\n      // Validar las selecciones del usuario\r\n      if (!Object.values(this.SupplyState).includes(this.newSupplyState) || \r\n          !Object.values(this.MetricUnit).includes(this.newSupplyMetricUnit)) {\r\n        alert(\"Invalid data selected.\");\r\n        return;\r\n      }\r\n\r\n      if (this.supplyToEdit) {\r\n        // Si estamos editando, actualiza el suministro existente\r\n        await this.updateSupply();\r\n      } else {\r\n\r\n        if (!Array.isArray(this.supplies)) {\r\n          console.error(\"Supplies no es array\");\r\n          this.supplies = []; // Reinicializa como un array vacío si es necesario\r\n        }\r\n\r\n        /*const isNameTaken = this.supplies.some(supply => supply.supplyName.toLowerCase() === this.newSupplyName.toLowerCase());\r\n        if (isNameTaken) {\r\n          alert(\"A supply with this name already exists.\");\r\n          return;\r\n        }*/\r\n\r\n        if (!this.validateSupplyData()) return;\r\n\r\n        // Crear un nuevo suministro\r\n        const newSupply = {\r\n          supplyName: this.newSupplyName,\r\n          supplyCategory: this.newSupplyCategory,\r\n          metricUnit: this.newSupplyMetricUnit,\r\n          currentlyOnStock: this.newSupplyStock,\r\n          costPerUnit: this.newSupplyCostPerUnit,\r\n          stateOfSupply: this.newSupplyState,\r\n          restaurantId: this.restaurantId,\r\n        };\r\n        \r\n        console.log(this.restaurantId);\r\n\r\n        try {\r\n          const response = await supplyService.addSupply(newSupply);\r\n          if (response) {\r\n            this.supplies.push(response);\r\n            this.filterSupplies(); // Actualiza la lista filtrada\r\n            this.closeSupplyConfig(); // Cierra el modal\r\n          }\r\n        } catch (error) {\r\n          console.error(\"Error adding supply:\", error);\r\n        }\r\n      }\r\n    },\r\n\r\n    openSupplyConfig() {\r\n      this.isSupplyConfigOpen = true; // Show the overlay\r\n      this.newSupplyName = '';\r\n      this.newSupplyCategory = '';\r\n      this.newSupplyMetricUnit = '';\r\n      this.newSupplyStock = 0;\r\n      this.newSupplyCostPerUnit = 0;\r\n      this.newSupplyState = '';\r\n    },\r\n\r\n    closeSupplyConfig() {\r\n      this.isSupplyConfigOpen = false;\r\n      this.newSupplyName = '';\r\n      this.newSupplyCategory = '';\r\n      this.newSupplyMetricUnit = '';\r\n      this.newSupplyStock = 0;\r\n      this.newSupplyCostPerUnit = 0;\r\n      this.newSupplyState = '';\r\n      this.supplyToEdit = null; // Limpiar referencia\r\n    },\r\n\r\n    editSupply(supply) {\r\n      // Prellenar el formulario con los datos existentes\r\n      this.newSupplyName = supply.supplyName;\r\n      this.newSupplyCategory = supply.supplyCategory;\r\n      this.newSupplyMetricUnit = supply.metricUnit;\r\n      this.newSupplyStock = supply.currentlyOnStock;\r\n      this.newSupplyCostPerUnit = supply.costPerUnit;\r\n      this.newSupplyState = supply.stateOfSupply;\r\n\r\n      // Guardar la referencia del suministro que estamos editando\r\n      this.supplyToEdit = supply;\r\n      //console.log(\"supply: \", supply)\r\n      //console.log(\"supply edit: \", this.supplyToEdit)\r\n\r\n      // Mostrar el formulario de configuración\r\n      this.isSupplyConfigOpen = true;\r\n    },\r\n\r\n    async updateSupply() {\r\n\r\n      if (!this.validateSupplyData()) return;\r\n\r\n      const updatedSupply = {\r\n        id: this.supplyToEdit.id,\r\n        supplyName: this.newSupplyName,\r\n        supplyCategory: this.newSupplyCategory,\r\n        metricUnit: this.newSupplyMetricUnit,\r\n        currentlyOnStock: this.newSupplyStock,\r\n        costPerUnit: this.newSupplyCostPerUnit,\r\n        stateOfSupply: this.newSupplyState,\r\n      };\r\n\r\n      try {\r\n        // Llamada al servicio para actualizar el suministro\r\n        await supplyService.updateSupply(updatedSupply.id, updatedSupply);\r\n        \r\n        // Actualizar el suministro en la lista\r\n        const index = this.supplies.findIndex(s => s.id === updatedSupply.id);\r\n        if (index !== -1) {\r\n          this.supplies.splice(index, 1, updatedSupply);\r\n          this.filteredSupplies.splice(index, 1, updatedSupply);\r\n        }\r\n        \r\n        // Cerrar el formulario de configuración\r\n        this.closeSupplyConfig();\r\n      } catch (error) {\r\n        console.error(\"Error updating supply:\", error);\r\n      }\r\n    },\r\n\r\n    async deleteSupply(id) {\r\n      const confirmation = window.confirm(\"Are you sure you want to delete this supply?\");\r\n      \r\n      if (confirmation) {\r\n        try {\r\n          // Llamada al servicio para eliminar el suministro\r\n          await supplyService.deleteSupply(id);\r\n\r\n          // Eliminarlo del arreglo local\r\n          this.supplies = this.supplies.filter(supply => supply.id !== id);\r\n          this.filteredSupplies = this.filteredSupplies.filter(supply => supply.id !== id);\r\n        } catch (error) {\r\n          console.error(\"Error deleting supply:\", error);\r\n        }\r\n      }\r\n    },\r\n\r\n    validateSupplyData() {\r\n      const errors = [];\r\n      \r\n      if (!this.newSupplyName) errors.push(\"Supply Name is required.\");\r\n      if (!this.newSupplyCategory) errors.push(\"Category is required.\");\r\n      if (!this.newSupplyMetricUnit || !Object.values(this.MetricUnit).includes(this.newSupplyMetricUnit)) {\r\n        errors.push(\"Invalid Metric Unit.\");\r\n      }\r\n      if (this.newSupplyStock === null || this.newSupplyStock < 0) {\r\n        errors.push(\"Stock must be a non-negative number.\");\r\n      }\r\n      if (this.newSupplyCostPerUnit === null || this.newSupplyCostPerUnit < 0) {\r\n        errors.push(\"Cost per Unit must be a non-negative number.\");\r\n      }\r\n      if (!this.newSupplyState || !Object.values(this.SupplyState).includes(this.newSupplyState)) {\r\n        errors.push(\"Invalid Supply State.\");\r\n      }\r\n      \r\n      if (errors.length > 0) {\r\n        alert(errors.join(\"\\n\")); // Mostrar errores al usuario\r\n        return false;\r\n      }\r\n      \r\n      return true; // Todos los datos son válidos\r\n    }\r\n    \r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.layout {\r\n  display: flex;\r\n  height: 100vh;\r\n  background-color: #F6F5FA;\r\n}\r\n.main-content {\r\n  margin-left: 255px;\r\n  width: calc(100% - 280px);\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.page-container {\r\n  margin-top: 70px;\r\n  padding: 20px;\r\n  background-color: #F6F5FA;\r\n  height: calc(100vh - 100px);\r\n  font-family: 'Red Hat Display', sans-serif;\r\n}\r\n.no-supplies {\r\n  text-align: center;\r\n  color: #31304A;\r\n}\r\n.supplies-header {\r\n  display: flex;\r\n  max-width: 1000px;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin: 0 auto;\r\n  padding-bottom: 10px;\r\n  gap: 10px;\r\n}\r\n.search-bar {\r\n  width: 100%;\r\n  padding: 15px;\r\n  border-radius: 5px;\r\n  border: none;\r\n  color: #31304A;\r\n  background-color: #D3D2E5;\r\n  max-width: 1000px;\r\n}\r\n.add-button {\r\n  padding: 13px 20px;\r\n  background: #D3D2E5;\r\n  color: #31304A;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-weight: 800;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.supply-table-container {\r\n  width: 100%;\r\n  max-width: 1000px;\r\n  margin: 20px auto;\r\n}\r\n.supply-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin-top: 20px;\r\n}\r\n.supply-table th, .supply-table td {\r\n  padding: 10px;\r\n  text-align: left;\r\n  border-bottom: 1px solid #D3D2E5;\r\n}\r\n.supply-table th {\r\n  background-color: #D3D2E5;\r\n  color: #31304A;\r\n}\r\n.supply-table td {\r\n  vertical-align: middle;\r\n}\r\n\r\n.edit-button,\r\n.delete-button {\r\n  padding: 8px 12px;\r\n  margin: 0 5px;\r\n  border: none;\r\n  border-radius: 5px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.edit-button {\r\n  background-color: #5E5E99;\r\n  color: white;\r\n}\r\n\r\n.edit-button:hover {\r\n  background-color: #4B4A78;\r\n}\r\n\r\n.delete-button {\r\n  background-color: #FF6347;\r\n  color: white;\r\n}\r\n\r\n.delete-button:hover {\r\n  background-color: #E0533C;\r\n}\r\n\r\n/* Supply Config Overlay Styles */\r\n.supply-config-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  font-family: 'Red-hat-display', sans-serif;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.supply-config-modal {\r\n  background-color: #F6F5FA;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  width: 50%;\r\n  text-align: center;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n\r\n}\r\n.modal-content{\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  margin: 0 10%;\r\n}\r\n.modal-title {\r\n  font-size: 1.5rem;\r\n  font-weight: 800;\r\n  margin-bottom: 20px;\r\n  color: #31304A;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 15px;\r\n  text-align: left;\r\n  justify-content: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  max-width: 800px;\r\n}\r\n.selector{\r\n  border-radius: 5px;\r\n  background-color: #D3D2E5;\r\n  border: none;\r\n  padding: 10px;\r\n  color: #31304A;\r\n  font-size: 1.2rem;\r\n}\r\n.option{\r\n  font-weight: 1rem;\r\n}\r\n.form-group label {\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  color: #31304A;\r\n  margin-bottom: 5px;\r\n  display: block;\r\n  max-width: 200px;\r\n}\r\n.form-group input {\r\n  max-width: 768px;\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n  border: none;\r\n  background-color: #D3D2E5;\r\n  font-size: 1.2rem;\r\n  color: #31304A;\r\n}\r\n\r\n.modal-actions {\r\n  margin-top: 20px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.button {\r\n  padding: 10px 20px;\r\n  background-color: #31304A;\r\n  color: #F6F5FA;\r\n  border: none;\r\n  border-radius: 5px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  margin-bottom: 20px;\r\n}\r\n.button:active {\r\n  background-color: #201E35;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .layout {\r\n    flex-direction: column;\r\n  }\r\n  .sidebar {\r\n    display: none;\r\n  }\r\n  .main-content {\r\n    margin-left: 0;\r\n  }\r\n  .supply-table th, .supply-table td {\r\n    font-size: 12px;\r\n  }\r\n  .add-button {\r\n    font-size: 12px;\r\n    padding: 8px;\r\n  }\r\n}\r\n@media (max-width: 480px) {\r\n  .search-bar {\r\n    width: 100%;\r\n  }\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}